(function(a){'use strict';a(document).ready(function(){var d=a('#enquiryButton'),j=a('.enquiryLoopButton'),b=a('#enquiryModal'),l,g,i,e,f,h,c,m,k;a('body').on('click','#enquiryButton',function(){h(),f(),b.show(),typeof b.model!="undefined"&&b.modal('show')}),j.on('click',function(){var c=a(this).data('products'),d=b.find('input[name*="'+woocommerce_catalog_mode_options.skuField+'"]'),e;typeof c.sku!="undefined"&&(d.val(c.sku),d.attr('value',c.sku)),e=b.find('input[name*="'+woocommerce_catalog_mode_options.productField+'"]'),typeof c.name!="undefined"&&c.name!=""&&(e.val(c.name),e.attr('value',c.name)),b.show(),typeof b.model!="undefined"&&b.modal('show')}),l=a('.enquiryVariationButton'),a('body').on('click','.enquiryVariationButton',function(){var c=b.find('input[name*="'+woocommerce_catalog_mode_options.skuField+'"]'),d=b.find('input[name*="'+woocommerce_catalog_mode_options.productField+'"]');c.val(a(this).data('sku')),d.val(a(this).data('name')),b.show(),typeof b.model!="undefined"&&b.modal('show')}),a('#enquiryClose').on('click',function(){b.hide(),a('.modal-backdrop').remove(),typeof b.model!="undefined"&&b.modal('hide')}),g=a('.variations_form'),g.length>0&&d.length>0&&(d.hide(),i=a(g.data('product_variations')),e=a('<div id="variationText"></div>'),e.insertBefore(d),a(document).on('change','.variations select',function(f){var c=a(this),g=c.find('option:selected'),b=a('.sku').text();b.length>0&&b!=="N/A"?i.each(function(g,a){var c,f;if(a.sku===b)return c=a.variation_description,f=a.price_html,e.html(f+c),e.fadeIn(),d.fadeIn(),!1}):(e.hide(),d.hide())}),setTimeout(function(){a('.variations select').trigger('change')},150)),f=function(){var c=a(woocommerce_catalog_mode_options.SKUSelector).first().text().trim(),d=b.find('input[name*="'+woocommerce_catalog_mode_options.skuField+'"]');typeof c!="undefined"&&(d.val(c),d.attr('value',c))},h=function(){var c=a(woocommerce_catalog_mode_options.productSelector).first().text().trim(),d=b.find('input[name*="'+woocommerce_catalog_mode_options.productField+'"]');typeof c!="undefined"&&c!=""?(d.val(c),d.attr('value',c)):(c=a(woocommerce_catalog_mode_options.productSelectorFallback).first().text().trim(),d.val(c),d.attr('value',c))},h(),f(),c=a('#enquiryCartModal'),a(document).on('click','#enquiryCartButton',function(){c.show(),typeof c.model!="undefined"&&c.modal('show'),k(this)}),m=a('.enquiryCartVariationButton'),a('body').on('click','.enquiryCartVariationButton',function(){enquiryCartModalSKU.val(a(this).data('sku')),enquiryCartModalProduct.val(a(this).data('name')),c.show(),typeof c.model!="undefined"&&c.modal('show')}),a('#enquiryCartClose').on('click',function(){c.hide(),a('.modal-backdrop').remove(),typeof c.model!="undefined"&&c.modal('hide')}),k=function(e){var d=a(e).data('products'),b,f;if(d=="")return!1;b="",a.each(d,function(c,a){woocommerce_catalog_mode_options.enquiryCartShowQuantity==1?b+=a.quantity+' x '+a.name:b+=a.name,woocommerce_catalog_mode_options.enquiryCartShowPrice==1&&woocommerce_catalog_mode_options.enquiryCartShowSKU==1?a.sku!==""?b+=' ('+a.price+' / '+a.sku+')\n':b+=' ('+a.price+')\n':woocommerce_catalog_mode_options.enquiryCartShowPrice==1?b+=' ('+a.price+')\n':woocommerce_catalog_mode_options.enquiryCartShowSKU==1&&a.sku!==""?b+=' ('+a.sku+')\n':b+='\n',a.variationInformation&&(b+=a.variationInformation+'\n')}),f=c.find('[name="'+woocommerce_catalog_mode_options.productsField+'"]'),f.val(b)},document.addEventListener('wpcf7mailsent',function(b){a('.woocommerce-cart').length>0&&a.ajax({url:woocommerce_catalog_mode_options.ajaxURL,data:{action:'woocommerce_catalog_mode_clear_cart'},success:function(b){var a=1500;setTimeout(function(){location.reload()},a)},error:function(a){console.log(a)}})},!1)})})(jQuery)