window.SiteOriginPremium=window.SiteOriginPremium||{},SiteOriginPremium.setupTooltip=function(t){t(".so-widget-sow-image, .so-widget-sow-image-grid, .so-widget-sow-simple-masonry, .so-widget-sow-icon, .so-widget-sow-price-table, .so-widget-sow-features").each((function(e,o){var i=t(o);if(i.data("tooltip-enabled")){var s=i.data("tooltip-theme"),a=function(e){var o=e.attr("title");if(o){t(this.image).css("pointerEvents","none");var i=t('<div class="so-premium-tooltip">'+o+'<div class="callout"></div></div>');i.css("visibility","hidden"),i.addClass("theme-"+s);var a=e.is("span"),n=e.hasClass("ow-pt-feature"),r=e.hasClass("sow-icon-container");if(r&&(e.removeAttr("title"),e=e.find("div, span")),a||n)var l=e;else l=e.parent().closest(":not( a )");var u=l.is(".sow-masonry-grid-item");u||r||a?l.parent().append(i):l.append(i);var d,p={top:0,left:0},c=i.find(".callout"),f=function(o=!1){var s=u||r?l.position():e.position(),a=i.data("width")/2,n=s.left+p.left-a,d=t("body").innerWidth()-a;o&&o.pageX>=d&&(n=d-a-(u||r?l.parent():t(o.currentTarget)).offset().left);i.css({top:s.top+p.top-i.outerHeight()+"px",left:n+"px"})},m=function(){f(),i.fadeIn(100)};"follow_cursor"===soPremiumTooltipOptions.position&&i.css("pointer-events","none"),i.hide(),i.css("visibility","visible"),l.on(soPremiumTooltipOptions.show_trigger,(function(s){var a=i.get(0);if(!n&&(i.is(":visible")||s.target===a||s.relatedTarget===a||s.relatedTarget===e.get(0)))return!1;e.removeAttr("title");var g=u?l:e;c.removeClass("bottom").addClass("top"),c.css("pointer-events","none");var w=.5*c.outerHeight();switch(soPremiumTooltipOptions.position){case"follow_cursor":i.data("width")||(i.data("width",i.outerWidth()+1),i.css("width",i.data("width")+1+"px")),l.on("mousemove",(function(o){var i=e.outerHeight(),s=l.outerHeight(),a=i>s?.5*(i-s):0,n=e.outerWidth(),d=l.outerWidth(),c=n>d?.5*(n-d):0;u?(p.top=o.offsetY-w-a,p.left=o.offsetX-c):(p.top=o.pageY-t(o.currentTarget).offset().top-w-a,p.left=o.pageX-t(o.currentTarget).offset().left-c,r&&(p.left+=parseInt(l.css("margin-left")))),f(o)}));break;case"center":p.top=.5*g.outerHeight()-w,p.left=.5*g.outerWidth();break;case"top":p.top=0-w,p.left=.5*g.outerWidth();break;case"bottom":c.removeClass("top").addClass("bottom"),p.top=g.outerHeight()+i.outerHeight()+w,p.left=.5*g.outerWidth()}if("mouseover"===soPremiumTooltipOptions.show_trigger&&soPremiumTooltipOptions.show_delay&&soPremiumTooltipOptions.show_delay>0?(d&&clearTimeout(d),d=setTimeout((function(){d=null,m()}),soPremiumTooltipOptions.show_delay)):m(),"click"===soPremiumTooltipOptions.hide_trigger){var h=function(){i.fadeOut(100),e.attr("title",o),t(window).off("click",h)};setTimeout((function(){t(window).on("click",h)}),100)}})),"mouseout"===soPremiumTooltipOptions.hide_trigger&&(l.on("mouseout",(function(s){d&&clearTimeout(d),s.relatedTarget===i.get(0)||t.contains(l.get(0),s.relatedTarget)||(i.fadeOut(100),e.attr("title",o),l.off("mousemove",f),e.attr("title",o))})),u&&i.on("mouseout",(function(t){t.relatedTarget===e.get(0)&&t.relatedTarget===e.get(0)||(i.fadeOut(100),e.attr("title",o),l.off("mousemove",f),e.attr("title",o))})))}};i.hasClass("so-widget-sow-icon")?a(i.find("span")):i.hasClass("so-widget-sow-features")?i.find(".sow-icon-container").each((function(e,o){a(t(o))})):i.hasClass("so-widget-sow-price-table")?i.find(".ow-pt-feature").each((function(e,o){a(t(o))})):i.find("img").each((function(e,o){function i(e){var o=t(e);e.complete?a(o):o.on("load",(function(){a(o)})).on("error",(function(){console.log("Could not setup tooltip. Image loading failed.")}))}o.classList.contains("jetpack-lazy-image")?t(o).on("jetpack-lazy-loaded-image",(function(t){i(t.target)})):i(o)}))}}))},jQuery((function(t){SiteOriginPremium.setupTooltip(t),window.sowb&&t(window.sowb).on("setup_widgets",(function(){SiteOriginPremium.setupTooltip(t)}))}));