jQuery((function(e){e(document).on("before_panels_setup",(function(t,n){var o=new URLSearchParams(window.location.search);o.has("tab")||(o.set("tab","content-single-product"),window.history.replaceState({},"",window.location.pathname+"?"+o));var i=o.get("tab"),a="woocommerce_"+i.replace(/\-/g,"_");e(document).on("open_dialog",(function(e,t){t instanceof panels.dialog.widgets&&t.el.querySelector('.so-sidebar-tabs a[href="#'+a+'"]').trigger("click")}));var r,c,d=1,l=document.getElementById("so-wc-preview-template");l&&l.addEventListener("click",(function(){if(!c){var e=document.getElementById("so-premium-wc-template-preview").innerHTML,t=document.createElement("div");t.innerHTML=e,c=t.querySelector("#so-premium-wc-template-preview-dialog"),document.body.append(c),c.querySelectorAll(".so-close").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),c.style.display="none"}))}))}var o=document.getElementById("so-premium-wc-template-form");!function(e,t,n){r&&r.remove();var o="so-wc-template-preview-"+d;(r=document.createElement("iframe")).setAttribute("src","javascript:false;"),r.setAttribute("id",o),r.setAttribute("name",o),n.appendChild(r);var i=document.createElement("form");for(var a in i.setAttribute("id","soPostToPreviewFrame"),i.setAttribute("method","post"),i.setAttribute("id",o),i.setAttribute("target",o),i.setAttribute("action",t),document.body.appendChild(i),e){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",a),c.setAttribute("value",e[a]),i.appendChild(c)}i.submit(),i.remove(),d++}({template_preview_panels_data:JSON.stringify(n.model.getPanelsData()),preview_template_post_id:o.getAttribute("data-post-id"),siteorigin_premium_template_preview:!0,tab:i},l.getAttribute("data-preview-url"),c.querySelector(".so-content")),c.style.display="block"}));if("content-single-product"===i||"content-product"===i){var m=document.getElementById("so-wc-selected-template");m&&m.addEventListener("change",(function(e){o.set("template_post_id",m.value),window.location.href=window.location.pathname+"?"+o}));var s=document.getElementById("so-wc-delete-template");s&&s.addEventListener("click",(function(e){confirm(soPremiumWcTemplateBuilder.confirm_delete_template)||e.preventDefault()}))}window.matchMedia("(hover:hover)").matches||e(".so-wc-templates-tooltip").hide()}))}));